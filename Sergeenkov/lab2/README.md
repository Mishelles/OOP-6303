# Обоснование проектных решений
## Введение
В лабораторной работе разработана система классов для моделирования следующих геометрических фигур:
* **Прямоугольник**
* **Параллелограмм**
* **Правильный шестиугольник**

## Класс Point
Для хранения координат, а также осуществления линейных преобразований над координатами реализован класс Point. Он инкапсулирует в себе все необходимые операции из линейной алгебры и аналитической геометрии для:
* Поворота точки относительно другой точки
* Масштабирования координат точки относительно другой точки
* Параллельный перенос точки в точку с заданными координатами

## Абстрактный класс Shape
Для моделирования единообразного интерфейса создан абстрактный класс Shape. Он содержит следующие чисто виртуальные методы:
* **move()** - перемещает фигуру в заданную точку 
* **scale()** - масштабирует фигуру на заданный коэффициент
* **rotate()** - поворачивает фигуру на заданный угол
* **print()** - выводит информацию о фигуре. Используется при вызове невиртуального метода operator<<()
* **getCenter** - возвращает координаты центра фигуры

Невиртуальные методы:
* **operator<<()** - оператор вывода на поток
* **setColor()** - устанавливает значение атрибута m_color
* **getColor** - возвращает значение атрибута m_color

Также описан виртуальный деструктор **virtual ~Shape()** для предотвращения неопределенного поведения при разрушении объекта производного класса.

## Класс Rectangle
Наследуется от базового класса Shape и переопределяет его виртуальные методы для работы с прямоугольником. В качестве атрибутов содержит 4 точки, соответствующих вершинам прямоугольника. Имеет 2 конструктора: 
* По 4 точкам и цвету
* По левой верхней точке, ширине, высоте и цвету

## Класс Parallelogram
Наследуется от базового класса Shape и переопределяет его виртуальные методы для работы с паралелограммом. В качетсве атрибутов содержит 4 точки, соответсвующих вершинам параллелограмма. Имеет один конструктор по 4 точкам и цвету.

## Класс Hexagon
Наследуется от базового класса Shape и переопределяет его виртуальные методы для работы с правильным шестиугольником. В качетсве атрибутов содержит 6 точке, соответствующих вершинам правильного шестиугольника. Имеет 2 конструктора:
* По шести точкам и цвету
* По оцентральной точке, расстоянию до вершины и цвету

## Управление созданием и разрушением объектов
Для контроля создания и разрушения объектов использована "фабрика". В данном случае она нужна для контроля передаваемых в конструктор параметров (к примеру, проверка того, что по заданным точкам действительно можно построить параллелограмм). Таким образом, вся проверка аргументов делегируется фабрике, а уже фабрика вызывает конструктор с гарантированно корректными аргументами или же сообщает, что аргументы некорректны, в таком случае конструктор просто не вызывается.
Помимо вышеуказанного фабрика гарантирует разрушение созданных с её помощью объектов вместе с разрушением фабрики. Фабрика хранит вектор указателей на созданные с её помощью объекты и при разрушении фабрики (т.е. в момент вызова её деструктора) происходит очистка памяти по указателям из вектора.

## Класс ShapeFactory
Содержит в качестве атрибута вектор из элементов Shape*.
Реализован деструктор для очистки памяти по указателям из вектора

## Класс RectangleFactory
Наследуется от ShapeFactory. В этом классе определяется метод create() и перегружается в соответствии с двумя конструкторами класса Rectangle. Эти методы проверяют корректность аргументов и создают новый объект на стеке, возвращая указатель на него.

## Класс ParallelogramFactory
Аналогично RectangleFactory, но аргументы create() соответствуют аргументам конструктора параллелограмма.

## Класс HexagonFactory
Аналогично RectangleFactory, но аргументы create() соответствуют аргументам конструктора шестиугольника.
